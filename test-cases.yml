---
- summary: |
    Проверка регистрации нового пользователя.
  requirement: |
    Пользователь должен иметь возможность регистрации на сайте.
  prerequisites: |
    Открыта страница сайта - https://codebattle.hexlet.io
  test-data: |
    Nickname = my-nickname
    Email = my_email@google.com
    Password = mypassword
  steps:
    - На странице нажать кнопку "Sign up".
    - Ввести Nickname
    - Ввести Email
    - Ввести Password
    - Нажать кнопку "Submit"
  expected-result: |
    Пользователь успешно зарегистрирован.

- summary: |
    Проверка авторизации зарегистрированного пользователя.
  requirement: |
    Пользователь должен иметь возможность авторизоваться на сайте после регистрации.
  prerequisites: |
    Открыта страница сайта - https://codebattle.hexlet.io
  test-data: |
    Nickname = my-nickname
    Email = my_email@google.com
    Password = mypassword
  steps:
    - На странице нажать кнопку "Sign in".
    - Ввести Nickname
    - Ввести Email
    - Ввести Password
    - Нажать кнопку "Submit"
  expected-result: |
    Пользователь успешно авторизован.

- summary: |
    Проверка авторизации пользователя, используя аккаунт Discord.
  requirement: |
    Пользователь должен иметь возможность регистрации, используя созданный аккаунт на стороннем сервисе.
  prerequisites: |
    Открыта страница сайта - https://codebattle.hexlet.io
    Имеется созданный аккаунт на платформе Discord
  test-data: |
    no data
  steps:
    - На странице нажать кнопку "Sign up"
    - В окне регистрации нажать кнопку "Sign in with Discord"
    - В перенаправленном окне ввести данные аккаунта и разрешить использование данных учетной записи Discord
  expected-result: |
    Пользователь успешно зарегистрировался на сайте, используя аккаунт Discord.

- summary: |
    Проверка авторизации пользователя, используя аккаунт Github.
  requirement: |
    Пользователь должен иметь возможность регистрации, используя созданный аккаунт на стороннем сервисе.
  prerequisites: |
    Открыта страница сайта - https://codebattle.hexlet.io
    Имеется созданный аккаунт на платформе Github
  test-data: |
    no data
  steps:
    - На странице нажать кнопку "Sign up"
    - В окне регистрации нажать кнопку "Sign in with Github"
    - В перенаправленном окне ввести данные учетной записи Github
  expected-result: |
    Пользователь успешно зарегистрировался на сайте, используя аккаунт Github

- summary: |
    Проверка использования сайта без авторизации и регистрации пользователя.
  requirement: |
    Пользователь должен иметь возможность пользоваться сайтом без регистрации и авторизации.
  prerequisites: |
    Открыта страница сайта - https://codebattle.hexlet.io
  test-data: |
    no data
  steps:
    - На странице нажать кнопку "Try simple battle"
  expected-result: |
    Пользователю открывается лобби для игры с ботом.

- summary: |
    Проверка создания игры с ботом.
  requirement: |
    Пользователь должен иметь возможность создавать игру с ботом
  prerequisites: |
    Пользователь авторизован
    Открыта страница https://codebattle.hexlet.io/#lobby
  test-data: |
    no data
  steps:
    - На странице лобби нажать кнопку "Create a game"
    - Выбрать уровень сложности, например, 1 звезда
    - Выбрать тип игры "With a bot"
    - Установить лимит времени, например, 8 минут
    - Выбрать задачу
    - Нажать кнопку "Create battle"
  expected-result: |
    Игра успешно создана, пользователь перемещен в игровое лобби.

- summary: |
    Проверка создания игры с другим пользователем.
  requirement: |
    Пользователь должен иметь возможность создавать игру с другим человеком.
  prerequisites: |
    Пользователь авторизован
    Открыта страница https://codebattle.hexlet.io/#lobby
  test-data: |
    no data
  steps:
    - На странице лобби нажать кнопку "Create a game"
    - Выбрать уровень сложности, например, 2 звезды
    - Выбрать тип игры "With other user"
    - Установить лимит времени, например, 1 минута
    - Выбрать задачу
    - Нажать кнопку "Create battle"
    - Ожидать подключения другого пользователя.
  expected-result: |
    Второй пользовтель подключился, игра успешно создана и пользователи перенесены в игровое лобби.

- summary: |
    Проверка создания игры по пригласительной ссылке.
  requirement: |
    Пользователь должен иметь создать игру с другим человеком по пригласительной ссылке.
  prerequisites: |
    Пользователь авторизован
    Открыта страница https://codebattle.hexlet.io/#lobby
  test-data: |
    no data
  steps:
    - На странице лобби нажать кнопку "Create a game"
    - Выбрать уровень сложности, например, 3 звезды
    - Выбрать тип игры "With other user"
    - Выбрать задачу
    - Нажать кнопку "Create battle"
    - На странице активных игр нажать кнопку "Continue"
    - Скопировать пригласительную ссылку и отправить ее другому пользователю.
    - Ожидать подключения другого пользователя по ссылке.
  expected-result: |
    Другой пользователь подключился к игре по пригласительной ссылке, игра успешно создана и пользователи перенесены в игровое лобби.

- summary: |
    Проверка создания игры по приглашению внутри сайта.
  requirement: |
    Пользователь должен иметь возможность создать игру и напрямую пригласить в лобби другого игрока.
  prerequisites: |
    Пользователь авторизован
    Открыта страница https://codebattle.hexlet.io/#lobby
  test-data: |
    no data
  steps:
    - На странице лобби нажать кнопку "Create a game"
    - Выбрать уровень сложности, например, 4 звезды
    - Выбрать тип игры "With a friend"
    - Установить лимит времени, например, 60 минут
    - Выбрать другого игрока из выпадающего списка в форме "Choose opponent"
    - Выбрать задачу
    - Приглашение отправлено, ожидать его принятие другим пользователем.
  expected-result: |
    Другой пользователь принял приглашение и присоединилися, игра успешно создана и пользователи перенесены в игровое лобби.

- summary: |
    Проверка фильтрации задач по одному тегу.
  requirement: |
    Пользователь должен иметь возможность выбрать тематику игры по одной из предложенных тем.
  prerequisites: |
    Открыта страница https://codebattle.hexlet.io/#lobby
  test-data: |
    no data
  steps:
    - На странице лобби нажать кнопку "Create a game"
    - В форме с представленными тегами выбираем один.
  expected-result: |
    В списке доступных для выбора тем представлены только те, к которым применим выбранный тег.

- summary: |
    Проверка фильтрации задач по нескольким тегам.
  requirement: |
    Пользователь должен иметь возможность выбрать тематику игры из нескольких предложенных тем.
  prerequisites: |
    Открыта страница https://codebattle.hexlet.io/#lobby
  test-data: |
    no data
  steps:
    - На странице лобби нажать кнопку "Create a game"
    - В форме с предсталенными тегами выбираем несколько
  expected-result: |
    В списке доступных для выбора тем представлены только те, к которым применимы выбранные темы.

- summary: |
    Проверка подключения к созданной игре по пригласительной ссылке.
  requirement: |
    Пользователь должен иметь возможность подключиться к игре по пригласительной ссылке.
  prerequisites: |
    Открыта страница https://codebattle.hexlet.io/#lobby
    При проверке используются два браузера с разными авторизованными пользователями - Пользователь 1: Github, Пользователь 2: Discord
    Первый пользователь создал игру с типом With other user и отправил ссылку второму пользователю 
  test-data: |
    no data
  steps:
    - Перейти по ссылке, сгенерированной первым пользователем. 
  expected-result: |
    Пользователи успешно перенесены в игровое лобби.

- summary: |
    Проверка подключения к созданной игре по приглашению внтури сайта.
  requirement: |
    Пользователь должен иметь возможность подключиться к игре по прямому приглашению.
  prerequisites: |
    Открыта страница https://codebattle.hexlet.io/#lobby
    При проверке используются два браузера с разными авторизованными пользователями - Пользователь 1: Github, Пользователь 2: Discord 
  test-data: |
    no data
  steps:
    - Первым пользователем создать игру с типом With a friend
    - В поле "Choose opponent" ввести никнейм второго пользователя и создать приглашение.
    - Вторым пользователем принять приглашение.
  expected-result: |
    Приглашение успешно принято, оба пользователя перенесены в игровое лобби.

- summary: |
    Проверка отображения личного рейтинга на главной странице сайта.
  requirement: |
    Пользователь должен иметь возможность просматривать личный рейтинг на главной странице сайта.
  prerequisites: |
    Открыта страница https://codebattle.hexlet.io/
  test-data: |
    Nickname = my-nickname
    Email = my_email@google.com
    Password = mypassword
  steps:
    - Авторизоваться на сайте, используя указанные данные.
  expected-result: |
    В шапке сайта, помимо никнейма пользователя, названия сайта и игроков онлайн, указана информация о рейтинга пользователя.

- summary: |
    Проверка отображения личного рейтинга в профиле пользователя
  requirement: |
    Пользователь должен иметь возможность просматривать личный рейтинг в профиле.
  prerequisites: |
    Пользователь авторизован
    Открыта страница https://codebattle.hexlet.io/#lobby
  test-data: |
    Nickname = my-nickname
    Email = my_email@google.com
    Password = mypassword
  steps:
    - Нажать на свой никнейм в шапке сайта.
    - В списке выбрать My profile
  expected-result: |
    Успешно открыт профиль пользователя, где отображается его рейтинг.

- summary: |
    Проверка отображения краткой таблицы общего рейтинга на главной странице сайта.
  requirement: |
    Пользователь должен иметь возможность просматривать рейтинг всех игроков.
  prerequisites: |
    Открыта страница https://codebattle.hexlet.io/#lobby
  test-data: |
    Nickname = my-nickname
    Email = my_email@google.com
    Password = mypassword
  steps:
    - Авторизоваться на сайте, используя указанные данные.
  expected-result: |
    На главной странице сайта размещена краткая таблица рейтинга игроков.

- summary: |
    Проверка отображения  таблицы  рейтинга всех игроков.
  requirement: |
    Пользователь должен иметь возможность просматривать рейтинг всех игроков.
  prerequisites: |
    Пользователь авторизован
    Открыта страница https://codebattle.hexlet.io/#lobby
  test-data: |
    no data
  steps:
    - Под краткой таблицей общего рейтинга нажать на кнопку "Top list"
  expected-result: |
    Успешно открыта таблица со списком всех игроков и их рейтингом.

- summary: |
    Проверка отображения статистики и истории игр пользователя.
  requirement: |
    Пользователь должен иметь возможность просматривать свою историю игр.
  prerequisites: |
    Пользователь авторизован
    Открыта страница https://codebattle.hexlet.io/#lobby
  test-data: |
    no data
  steps:
    - Нажать на никнейм пользователя в шапке сайте
    - Нажать "My profile"
  expected-result: |
    В профиле пользователя корректно отображается история игр пользователя и статистика игр.

- summary: |
    Проверка отображения завершенных игр в профиле пользователя.
  requirement: |
    Пользователь должен иметь возможность просматривать информацию о своих завершенных играх.
  prerequisites: |
    Пользователь авторизован
    Открыта страница https://codebattle.hexlet.io/#lobby
  test-data: |
    no data
  steps:
    - Нажать на никнейм пользователя в шапке сайте
    - Нажать "My profile"
    - Перейти во вкладку "Completed games"
  expected-result: |
    Во вкладке  корректно отображается история игр пользователя и их результат.
    
- summary: |
    Проверка изменения отображаемого языка программирования в профиле пользователя.
  requirement: |
    Пользователь должен иметь возможность сменить отображаемый в профиле язык программирования.
  prerequisites: |
    Пользователь авторизован
    Открыта страница https://codebattle.hexlet.io/#lobby
  test-data: |
    no data
  steps:
    - Нажать на никнейм пользователя в шапке сайте
    - Нажать "Settings"
    - В поле "Your weapon" выбрать язык программирования
    - Сохранить изменения, нажав кнопку "Save"
  expected-result: |
    В профиле пользователя корректно отображается выбранный язык программирования.

- summary: |
    Проверка изменения громкости проигрываемой мелодии.
  requirement: |
    Пользователь должен иметь возможность настроить громкость мелодии.
  prerequisites: |
    Пользователь авторизован
    Открыта страница https://codebattle.hexlet.io/#lobby
  test-data: |
    no data
  steps:
    - Нажать на никнейм пользователя в шапке сайте
    - Нажать "Settings"
    - В секции "Select sound level" настроить громкость в ~20%
  expected-result: |
    Мелодия звучит в рамках выставленного звукового диапазона.

- summary: |
    Проверка изменения типа проигрываемой мелодии.
  requirement: |
    Пользователь должен иметь возможность настроить тип мелодии.
  prerequisites: |
    Пользователь авторизован
    Открыта страница https://codebattle.hexlet.io/#lobby
  test-data: |
    no data
  steps:
    - Нажать на никнейм пользователя в шапке сайте
    - Нажать "Settings"
    - В секции "Select sound type" выбрать тип мелодии
  expected-result: |
    Тип мелодии успешно изменен.

- summary: |
    Проверка отправки сообщения в общий чат.
  requirement: |
    Пользователь должен иметь возможность отправлять сообщения в общий чат игроков.
  prerequisites: |
    Открыта страница https://codebattle.hexlet.io/#lobby 
  test-data: |
    no data
  steps:
    - В окне чата выбрать канал General
    - Ввести и отправить текст сообщения, например, "Привет!"
  expected-result: |
    Сообщение успешно отправлено и отображено в окне чата.

- summary: |
    Проверка отправки сообщения другому пользователю.
  requirement: |
    Пользователь должен иметь возможность отправлять сообщения другим игрокам.
  prerequisites: |
    Открыта страница https://codebattle.hexlet.io/#lobby 
    При проверке используются два браузера с разными авторизованными пользователями - Пользователь 1: Github, Пользователь 2: Discord
  test-data: |
    no data
  steps:
    - В окне чата выбрать нажать на никнейм пользователя 2
    - В списке выбрать опцию "Direct message"
    - Ввести и отправить текст сообщения, например, "Привет!"
  expected-result: |
     Сообщение успешно отправлено и отображено в окне чата с пометкой private.

- summary: |
    Проверка отправки сообщения в чат игры.
  requirement: |
    Пользователь должен иметь возможность отправлять сообщения в чат игры.
  prerequisites: |
    Открыта страница https://codebattle.hexlet.io/#lobby 
  test-data: |
    no data
  steps:
    - В окно чата комнаты ввести и отправить текст сообщения, например, "Привет!"
  expected-result: |
    Сообщение успешно отправлено и отображено в окне чата.

- summary: |
    Проверка смены языка программирования во время игры.
  requirement: |
    Пользователь должен иметь возможность сменить язык программирования во время игры.
  prerequisites: |
    Пользователь находится в активной игре. 
  test-data: |
    no data
  steps:
    - Нажать на название языка программирования над окном редактора кода
    - Выбрать другой язык программирования из выпадающего списка
  expected-result: |
    Язык программирования успешно изменен.

- summary: |
    Проверка отображения кода другого игрока во время игры.
  requirement: |
    Пользователь должен иметь возможность сменить язык программирования во время игры.
  prerequisites: |
    При проверке используются два браузера с разными авторизованными пользователями - Пользователь 1: Github, Пользователь 2: Discord
    Пользователи находится в активной игре в одном лобби. 
  test-data: |
    no data
  steps:
    - Пользователь 1 вводит в редактор кода набор символов, например, "AC-_-!!"
  expected-result: |
    Введеные пользователем 1 символы корректно отображаются в редакторе кода и их видит пользователь 2.

- summary: |
    Проверка смены имени пользователя.
  requirement: |
    Пользователь должен иметь возможность сменить отображаемое имя профиля.
  prerequisites: |
     Открыта страница https://codebattle.hexlet.io/#lobby 
  test-data: |
    no data
  steps:
    - Нажать на никнейм пользователя в шапке сайте
    - Нажать "Settings"
    - В поле "Your name" ввести новое имя, например, "New name"
    - Сохранить изменения, нажав кнопку "Save"
  expected-result: |
    Имя пользователя успешно изменено.

- summary: |
    Проверка просмотра профиля другого пользователя.
  requirement: |
    Пользователь должен иметь возможность просматривать профили других игроков.
  prerequisites: |
     Открыта страница https://codebattle.hexlet.io/#lobby 
  test-data: |
    no data
  steps:
    - Нажать на никнейм другого пользователя
    - В открывшемся списке нажать "Info"
  expected-result: |
    Пользователю успешно открылся профиль другого игрока. 

- summary: |
    Проверка просмотра активной игры других пользователей.
  requirement: |
    Пользователь должен иметь возможность наблюдать за активной игрой других пользователей.
  prerequisites: |
     Открыта страница https://codebattle.hexlet.io/#lobby 
  test-data: |
    no data
  steps:
    - В списке активных игр выбрать одну и нажать кнопку "Show"
  expected-result: |
    Пользователю успешно открылось лобби, где отображается игровой процесс.

- summary: |
    Проверка регистрации нового пользователя, используя некорректные символы.
  requirement: |
    При вводе некорректных символов в поля регистрации, пользователь должен получить сообщение об ошибке.
  prerequisites: |
    Открыта страница сайта - https://codebattle.hexlet.io
  test-data: |
    Nickname = !!!!
    Email = bademail@google.com
    Password = -----
  steps:
    - На странице нажать кнопку "Sign up".
    - Ввести Nickname
    - Ввести Email
    - Ввести Password
    - Нажать кнопку "Submit"
  expected-result: |
    Под каждой формой пользователю выведено сообщение о некорректности введенных данных.

- summary: |
    Проверка входа пользователя с несуществующими электронной почтой и паролем
  requirement: |
    При неправильно введенной электронной почте или пароле пользователь должен получить сообщение об ошибке
  prerequisites:
    Открыта страница логина
  test-data: |
    email = my_email@google.comcomcom
    password = thisisnotmypassword
  steps:
    - Вводим email
    - Вводим пароль
    - Нажимаем кнопку "Submit"
  expected-result: |
    Пользователь получил сообщение об ошибке в введенных данных.
